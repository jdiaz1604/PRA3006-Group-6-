:root {
  --bg:#0b1020;
  --ink:#f2f4f8;
  --accent:#6fb1ff;
  --accent-strong:#8fe0f2;
  --muted:#a8b3c7;
  --panel:#121831;
  --panel-dark:#0c1226;
}

* { box-sizing:border-box; }
html, body { margin:0; background:var(--bg); color:var(--ink); font-family:system-ui,-apple-system,Segoe UI,Roboto,Inter,Arial,sans-serif; }
body { min-height:100vh; }

a, a:visited { color:var(--accent); text-decoration:none; }
a:hover { text-decoration:underline; }

.small { font-size:13px; color:var(--muted); margin:0; }

header { padding:18px 24px; border-bottom:1px solid #1e2748; display:flex; align-items:center; justify-content:space-between; flex-wrap:wrap; gap:12px; }
header h1 { margin:0; font-size:18px; line-height:1.3; }

nav { display:flex; gap:12px; }
nav a { color:var(--muted); text-decoration:none; font-size:14px; padding:6px 10px; border-radius:6px; border:1px solid transparent; }
nav a:hover { color:var(--ink); border-color:#23305a; }
nav a.active { color:var(--ink); border-color:#2e3d70; }

main { display:flex; flex-direction:column; gap:40px; }
.hero { padding:48px 24px 32px; background:var(--panel-dark); display:grid; gap:20px; text-align:left; }
.hero h2 { margin:0; font-size:28px; line-height:1.2; }
.hero p { margin:8px 0 0; max-width:640px; color:var(--muted); }
.hero-actions { display:flex; gap:14px; flex-wrap:wrap; margin-top:16px; }

.btn { border:none; border-radius:999px; padding:10px 20px; font-size:14px; font-weight:600; cursor:pointer; transition:background .2s, color .2s, border .2s; }
.btn-primary { background:var(--accent); color:#05122b; }
.btn-primary:hover { background:var(--accent-strong); }
.btn-outline { background:transparent; color:var(--ink); border:1px solid #324170; }
.btn-outline:disabled { opacity:0.4; cursor:not-allowed; }
.btn-link { display:inline-flex; align-items:center; gap:6px; color:var(--accent); }

.home-main { padding-bottom:64px; }
.home-panels { padding:0 24px 24px; display:grid; gap:24px; }
.home-panels h3 { margin:0 0 12px; }
.home-panels p { color:var(--muted); margin:6px 0 0; max-width:720px; }
.features-grid { display:grid; grid-template-columns:repeat(auto-fit,minmax(220px,1fr)); gap:16px; }
.feature-card { background:var(--panel); border:1px solid #1e2748; border-radius:16px; padding:18px; }
.feature-card h4 { margin:0 0 8px; font-size:16px; }
.feature-card p { margin:0; color:var(--muted); font-size:14px; }

.explorer { padding:0 0 32px; }
.section-heading { display:flex; justify-content:space-between; align-items:flex-start; padding:0 24px 16px; gap:16px; flex-wrap:wrap; }
.section-heading h3 { margin:0; font-size:20px; }
.section-heading p { margin:6px 0 0; color:var(--muted); font-size:14px; max-width:560px; }

.app { display:grid; grid-template-columns:minmax(0,1.15fr) minmax(320px,0.85fr); min-height:480px; border-top:1px solid #1e2748; border-bottom:1px solid #1e2748; }
@media (max-width:960px) {
  .app { grid-template-columns:1fr; }
  .sidebar { min-height:360px; border-left:none; border-top:1px solid #1e2748; }
}

.map-wrap { position:relative; background:#050a1c; }
.map { width:100%; height:100%; display:block; }

.sidebar { background:var(--panel); padding:22px 24px 32px; border-left:1px solid #1e2748; display:flex; flex-direction:column; gap:14px; }
.panel-label { font-size:12px; text-transform:uppercase; letter-spacing:.1em; color:var(--muted); margin-bottom:4px; }
.sidebar h2 { margin:0 0 4px; font-size:22px; }
.sidebar .small { color:var(--muted); font-size:13px; margin:0; }
.checklist { padding-left:18px; margin:8px 0; color:var(--muted); font-size:13px; }
.checklist li { margin-bottom:4px; }

.metric { margin:12px 0; }
.metric-label { color:var(--muted); font-size:12px; text-transform:uppercase; letter-spacing:.04em; }
.metric-value { font-size:22px; margin-top:4px; }
.status { font-size:12px; color:var(--muted); margin-top:4px; }
.err { color:#ff9aa2; }

.loading { position:absolute; inset:0; display:flex; align-items:center; justify-content:center; pointer-events:none; background:transparent; }
.spinner { width:42px; height:42px; border:4px solid #33406a; border-top-color:var(--accent); border-radius:50%; animation:spin 1s linear infinite; }
@keyframes spin { to { transform:rotate(360deg); } }
.tooltip { position:absolute; pointer-events:none; background:#0e1530; color:var(--ink); padding:6px 8px; border:1px solid #1f2a50; border-radius:6px; font-size:12px; box-shadow:0 6px 20px rgba(0,0,0,.25); opacity:0; transition:opacity .15s; }
.note { margin-top:4px; color:var(--muted); font-size:12px; }
.legend { margin:10px 0 2px; font-size:12px; color:var(--muted); }
.attribution { margin-top:8px; font-size:11px; color:var(--muted); }

.map-root path { transition:fill .2s, opacity .2s; }
.sphere { fill:#0a1029; stroke:#1b2551; stroke-width:1; }
.continent { fill:#111935; stroke:#233569; stroke-width:0.9; cursor:pointer; }
.continent:hover { fill:#1a2a55; }
.continent-selected { fill:#2f4c93; stroke:#7ba3ff; }
.continent-dim { opacity:0.25; }

.countries-layer { opacity:0.05; pointer-events:none; transition:opacity .2s; }
.countries-layer.active { opacity:1; pointer-events:auto; }
.country { fill:#162145; stroke:#223064; stroke-width:0.5; cursor:pointer; }
.country:hover { fill:#223166; }
.country-muted { opacity:0.15; pointer-events:none; }
.country-selected { fill:#3857b1 !important; stroke:#8cafff; stroke-width:1.4px; }

#dataContext { font-size:13px; color:var(--muted); margin-top:4px; min-height:18px; }

/* Correlations page */
.viz-main { padding:0 24px 60px; display:flex; flex-direction:column; gap:32px; }
.viz-hero { border-bottom:1px solid #1e2748; }
.viz-grid { display:grid; grid-template-columns:repeat(auto-fit,minmax(320px,1fr)); gap:24px; }
.viz-card { background:var(--panel); border:1px solid #1e2748; border-radius:24px; padding:24px; display:flex; flex-direction:column; gap:16px; }
.chart-header h3 { margin:0; }
.chart-header p { margin:4px 0 0; color:var(--muted); font-size:14px; }
.chart-wrap svg { width:100%; height:360px; display:block; background:var(--panel-dark); border-radius:16px; }
.chart-stats { margin-top:8px; font-size:13px; color:var(--muted); line-height:1.4; }
.muted { color:var(--muted); }
.chart-tooltip { position:fixed; pointer-events:none; background:#0e1530; color:var(--ink); padding:8px 10px; border:1px solid #1f2a50; border-radius:6px; font-size:12px; box-shadow:0 6px 20px rgba(0,0,0,.35); opacity:0; transition:opacity .15s; z-index:10; }
